<!DOCTYPE html>
<div id="clouddocs-header">
  <div class="container-fluid">
    <div class="row corp-header">
      <div class="container corp-header">
        <div class="container corp-menu">
          <ul>
            <li><a href="https://f5.com" class="internalLink">F5.com</a></li>
            <li><a href="https://github.com/F5Networks" class="externalLink">GitHub</a></li>
            <li><a href="https://devcentral.f5.com" class="internalLink">Devcentral</a></li>
            <li><a href="https://support.f5.com" class="internalLink">Support</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script async="async"
      src="https://consent.trustarc.com/notice?domain=f5.com&amp;c=teconsent&amp;text=true&amp;gtm=1" crossorigin=""
      id="truste_0.12182038258598205"></script>

    <div class="row pageHeader">
      <div class="container stat">
        <div class="col-xs-12 stat">
          <a class="internalLink" href="https://f5.com">
            <img class="logo" src="https://cdn.f5.com/websites/support/assets/images/logo.svg" width="50" height="44"
              alt="F5 Networks" title="F5 Networks" border="0">
          </a>
          <ul id="MainMenu" class="main-menu">
            <li data-submenu-id="products">
              <a data-link-type="nav: main" href="#" class="currentURL">Products
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="products-submenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h">BIG-IP Extensibility</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest" data-link-type="Nav: Mega">F5
                            Application Services Extension 3</a></li>
                        <li><a href="https://clouddocs.f5.com/products/agc/latest" data-link-type="Nav: Mega">BIG-IP APM Access Guided
                            Configuration</a></li>
                        <li><a href="https://clouddocs.f5.com/products/iapp/iapp-lx/latest" data-link-type="Nav: Mega">iApps LX/iControl LX</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-declarative-onboarding/latest"
                            data-link-type="Nav: Mega">F5 Declarative Onboarding</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-telemetry-streaming/latest" data-link-type="Nav: Mega">F5
                            Telemetry Streaming</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest" data-link-type="Nav: Mega">F5 Cloud
                            Failover</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-templates/latest/" data-link-type="Nav: Mega">F5
                            Application Services Templates</a></li>
                      </ul>
                    </li>


                    <li class="divider"></li>
                    <li><span class="a-mm-h">Container Ingress Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/" data-link-type="Nav: Mega">F5 BIG-IP Controller for
                            Kubernetes/OpenShift</a></li>
                      </ul>
                      <span class="a-mm-h">Network Function Virtualization</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/nfv/latest" data-link-type="Nav: Mega">F5 VNF Manager</a></li>
                      </ul>
                      <span class="a-mm-h">SDK</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-cli" target="_blank">F5 CLI</a></li>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-sdk-python" target="_blank">F5 SDK Python</a></li>
                      </ul>
                    </li>



                    <li class="divider"></li>
                    <li>
                      <span class="a-mm-h">OpenStack</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/openstack/agent/latest" data-link-type="Nav: Mega">F5 Agent - OpenStack
                            Neutron</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/lbaasv2-driver/latest" data-link-type="Nav: Mega">F5 Driver -
                            OpenStack LBaaS</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/heat-plugins/latest" data-link-type="Nav: Mega">F5 Plugins -
                            OpenStack Heat</a></li>
                      </ul>

                      <span class="a-mm-h">Ecosystems Integrations</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/f5-aci-servicecenter/latest" data-link-type="Nav: Mega">F5 ACI ServiceCenter</a>
                        </li>
                      </ul>


                    </li>
                    <li class="divider"></li>
                    <li><span class="a-mm-h">Orchestration</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/ansible/devel" target="_blank">F5 Modules for Ansible</a>
                        </li>
                        <li><a href="https://github.com/F5Networks/f5-aws-cloudformation" target="_blank"
                            class="externalLink">F5 Templates for AWS CloudFormation</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-azure-arm-templates" target="_blank"
                            class="externalLink">F5 Templates for Azure ARM</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-google-gdm-templates" target="_blank"
                            class="externalLink">F5 Templates for Google Cloud Deployment Manager</a> (GitHub)</li>
                        <li><a href="https://clouddocs.f5.com/products/templates/openstack-heat/latest" data-link-type="Nav: Mega">F5 Templates
                            for OpenStack Heat</a></li>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/terraform/latest/" data-link-type="Nav: Mega">F5 Resources
                            for Terraform Provider</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>

            <!--- NEW -->
            <li>
              <a href="#" class="currentURL">APIs
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="APISubmenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/big-iq/mgmt-api/latest/" data-link-type="Nav: Mega">F5 BIG-IQ API</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/api/iapps/">F5 BIG-IP iApps</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules">F5 BIG-IP iRules API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules-lx">F5 BIG-IP iRulesLX API</a></li>
                      </ul>
                    </li>

                    <li class="divider"></li>

                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-rest">F5 BIG-IP iControlREST API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-soap/">F5 BIG-IP iControl API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/ihealth/">F5 iHealth API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/tmsh">F5 tmsh scripting API</a></li>
                      </ul>
                    </li>

                  </ul>
                </div>
              </div>
            </li>




            <li>
              <a href="#" class="currentURL">Cloud &amp; Container
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="ContainersSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third"><span class="a-mm-h">Cloud Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GS-About.html"
                            data-link-type="Nav: Mega">Get Started</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Beacon-About.html"
                            data-link-type="Nav: Mega">Beacon</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-DNS-About.html"
                            data-link-type="Nav: Mega">DNS Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GSLB-About.html"
                            data-link-type="Nav: Mega">DNS Load Balancer Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Essential.App.Protect-About.html"
                            data-link-type="Nav: Mega">Essential App Protect Service</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Clouds</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/aws_index.html" data-link-type="Nav: Mega">AWS</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/azure_index.html" data-link-type="Nav: Mega">Azure</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/google_index.html" data-link-type="Nav: Mega">Google Cloud</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/cloud/openstack/" data-link-type="Nav: Mega">OpenStack</a></li>
                      </ul>
                      <!-- unnecessary right now>
                    <span class="seemore"><a data-link-type="Nav: Mega" href="/cloud/">See all </a></span>
                    <-->
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Containers</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/kubernetes/" data-link-type="Nav: Mega">Kubernetes</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/openshift/" data-link-type="Nav: Mega">OpenShift</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
            <li>
              <a href="#" class="currentURL">Resources
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="UPCProgramSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third">
                      <span class="a-mm-h">Downloads</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://hub.docker.com/r/f5networks/"
                            class="internalLink externalLink">Docker Hub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega"
                            href="https://store.docker.com/images/f5networks-asp"
                            class="internalLink externalLink">Docker Store</a></li>
                      </ul>
                      <span class="a-mm-h">OpenSource</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5Networks"
                            class="internalLink externalLink">F5Networks on GitHub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5DevCentral"
                            class="internalLink externalLink">F5DevCentral on GitHub</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third">
                      <span class="a-mm-h">Training &amp; Labs</span>
                      <ul>
                        <li>
                          <p>Learn how to get the most out of the F5 platform</p>
                        </li>
                        <li><a href="https://clouddocs.f5.com/training/community">Community</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>

                    <li class="third">
                      <a href="//university.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega">F5 University</a>
                      <ul>
                        <li>
                          <p>Get up to speed with free self-paced courses</p>
                        </li>
                      </ul>
                      <a data-ng-href="https://devcentral.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega" href="https://devcentral.f5.com">DevCentral</a>
                      <ul>
                        <li>
                          <p>Join the community of 250,000+ technical peers</p>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
          </ul>
        </div>

        <div class="col-xs-12 stat">
          <div class="topLinks">
            <span class="glyphicon glyphicon-search upc-search" id="search-toggle" style="display: none;"></span>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- /container-fluid -->
</div>
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Code conventions &#8212; F5 Digital Customer Engagement Center 0.1 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <nav class="nav-sidebartoc">

        
        <h5>F5 Digital Customer Engagement Center 0.1 </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Code conventions</a><ul>
<li><a class="reference internal" href="#use-the-complex-structure-map-format">Use the complex/structure map format</a></li>
<li><a class="reference internal" href="#alphabetize-the-module-s-parameters">Alphabetize the module’s parameters</a></li>
<li><a class="reference internal" href="#use-double-quotes-for-strings">Use double quotes for strings</a></li>
<li><a class="reference internal" href="#do-not-use-quotes-for-numbers">Do not use quotes for numbers</a></li>
<li><a class="reference internal" href="#begin-yaml-files-with-a-triple-dash">Begin YAML files with a triple-dash</a></li>
<li><a class="reference internal" href="#give-each-task-a-name">Give each task a name</a></li>
<li><a class="reference internal" href="#always-include-a-documentation-variable">Always include a DOCUMENTATION variable</a></li>
<li><a class="reference internal" href="#always-include-an-examples-variable">Always include an EXAMPLES variable</a></li>
<li><a class="reference internal" href="#always-include-a-return-variable">Always include a RETURN variable</a></li>
<li><a class="reference internal" href="#make-the-author-field-a-list">Make the author field a list</a></li>
<li><a class="reference internal" href="#use-github-handle-for-the-author-name">Use GitHub handle for the author name</a></li>
<li><a class="reference internal" href="#use-2-spaces-in-documentation-examples-and-return">Use 2 spaces in DOCUMENTATION, EXAMPLES, and RETURN</a></li>
<li><a class="reference internal" href="#use-ansible-lookup-plugins-where-appropriate">Use Ansible lookup plugins where appropriate</a></li>
<li><a class="reference internal" href="#always-expand-lists-in-the-various-documentation-variables">Always expand lists in the various documentation variables</a></li>
<li><a class="reference internal" href="#specify-the-big-ip-version">Specify the BIG-IP version</a></li>
<li><a class="reference internal" href="#never-raise-a-general-exception">Never raise a general exception</a></li>
<li><a class="reference internal" href="#support-check-mode">Support check mode</a></li>
<li><a class="reference internal" href="#do-not-use-local-action-in-your-examples">Do not use local_action in your EXAMPLES</a></li>
<li><a class="reference internal" href="#set-default-example-parameters">Set default EXAMPLE parameters</a></li>
<li><a class="reference internal" href="#assign-values-before-returning-them">Assign values before returning them</a></li>
<li><a class="reference internal" href="#create-a-functional-test-for-each-code-fix">Create a functional test for each code fix</a></li>
<li><a class="reference internal" href="#exclude-code-from-unit-test-coverage">Exclude code from unit test coverage</a></li>
<li><a class="reference internal" href="#put-exception-message-on-a-new-line">Put exception message on a new line</a></li>
<li><a class="reference internal" href="#put-list-contents-on-a-new-line">Put list contents on a new line</a></li>
<li><a class="reference internal" href="#include-the-license-header">Include the license header</a></li>
<li><a class="reference internal" href="#include-the-ansible-metadata-variable">Include the ANSIBLE_METADATA variable</a></li>
<li><a class="reference internal" href="#do-not-include-required-key-for-non-required-parameters">Do not include required key for non-required parameters</a></li>
<li><a class="reference internal" href="#do-not-include-default-key-for-parameters-without-defaults">Do not include default key for parameters without defaults</a></li>
<li><a class="reference internal" href="#do-not-decompose-to-a-device-method-if-the-using-method-is-itself-a-device-method">Do not decompose to a *_device method if the using method is itself a *_device method</a></li>
</ul>
</li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/filing-issues.html">Filing issues</a></li>
</ul>
<p class="caption"><span class="caption-text">Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../solutions/delivery/delivery_index.html">Application Delivery controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solutions/security/security_index.html">Security</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting-involved.html">How to get involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="guidelines.html">Guidelines</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">CloudDocs Home</a> &gt; <a href="../../index.html">F5 Digital Customer Engagement Center </a> &gt; Code conventions</li>
          </ul>
      </nav>
      

    
  <div class="section" id="code-conventions">
<h1>Code conventions<a class="headerlink" href="#code-conventions" title="Permalink to this headline">¶</a></h1>
<p>The F5 modules follow a set of coding conventions that apply to all new and existing modules. These conventions help new contributors quickly develop new modules, and they help existing contributors maintain the current modules.</p>
<p>Where possible, F5 tries to automate the validation of these coding conventions so you are aware of mistakes and can fix them yourself.</p>
<p>For more information on the tools that perform these checks, refer to the <a class="reference internal" href="tests.html"><span class="doc">Tests</span></a> page.</p>
<p>When you write modules and their accompanying tests and docs, follow these coding conventions.</p>
<div class="section" id="use-the-complex-structure-map-format">
<h2>Use the complex/structure map format<a class="headerlink" href="#use-the-complex-structure-map-format" title="Permalink to this headline">¶</a></h2>
<p>In reference to Jeff Geerling’s page <a href="http://www.jeffgeerling.com/blog/yaml-best-practices-ansible-playbooks-tasks" target="_blank">here</a>, this format looks like this:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Create a UCS</span>
  <span class="nt">bigip_ucs_fetch</span><span class="p">:</span>
     <span class="nt">dest</span><span class="p">:</span> <span class="s">&quot;/tmp/{{</span><span class="nv"> </span><span class="s">ucs_name</span><span class="nv"> </span><span class="s">}}&quot;</span>
     <span class="nt">password</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">bigip_password</span><span class="nv"> </span><span class="s">}}&quot;</span>
     <span class="nt">server</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">inventory_hostname</span><span class="nv"> </span><span class="s">}}&quot;</span>
     <span class="nt">src</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">ucs_name</span><span class="nv"> </span><span class="s">}}&quot;</span>
     <span class="nt">user</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">bigip_username</span><span class="nv"> </span><span class="s">}}&quot;</span>
     <span class="nt">validate_certs</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">validate_certs</span><span class="nv"> </span><span class="s">}}&quot;</span>
  <span class="nt">register</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">result</span>
</pre></div>
</div>
<p>F5 uses this format for several reasons, including Geerling’s.</p>
<ul class="simple">
<li><p>The structure is all valid YAML that uses the structured list/map syntax.</p></li>
<li><p>Strings, booleans, integers, octals, etc. are all preserved (instead of converted to strings).</p></li>
<li><p>Each parameter must be on its own line, so you can’t chain together <code class="docutils literal notranslate"><span class="pre">mode:</span> <span class="pre">0755,</span> <span class="pre">owner:</span> <span class="pre">root,</span> <span class="pre">user:</span> <span class="pre">root</span></code> to save space.</p></li>
<li><p>YAML syntax highlighting works slightly better for this format than <code class="docutils literal notranslate"><span class="pre">key=value</span></code>, since it highlights each key and displays values as constants, strings, etc.</p></li>
</ul>
<p>In addition, some situations will raise syntax errors if you use the simple <code class="docutils literal notranslate"><span class="pre">key=value</span></code> format.</p>
<p>And finally, it saves space and is easier to read and know what the arguments to the module are.</p>
</div>
<div class="section" id="alphabetize-the-module-s-parameters">
<h2>Alphabetize the module’s parameters<a class="headerlink" href="#alphabetize-the-module-s-parameters" title="Permalink to this headline">¶</a></h2>
<p>The parameters must be in alphabetic order.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;foo&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;bar&quot;</span>
      <span class="nt">gamma</span><span class="p">:</span> <span class="s">&quot;baz&quot;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;foo&quot;</span>
      <span class="nt">gamma</span><span class="p">:</span> <span class="s">&quot;baz&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;bar&quot;</span>
</pre></div>
</div>
<p>This provides consistency between module usage and a way to see at a glance if a module has the correct parameters.</p>
</div>
<div class="section" id="use-double-quotes-for-strings">
<h2>Use double quotes for strings<a class="headerlink" href="#use-double-quotes-for-strings" title="Permalink to this headline">¶</a></h2>
<p>Ansible supports a simple parameter format. If a value is a string, represent it as a string by using double quotes.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;foo&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;bar&quot;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">foo</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">bar</span>
</pre></div>
</div>
</div>
<div class="section" id="do-not-use-quotes-for-numbers">
<h2>Do not use quotes for numbers<a class="headerlink" href="#do-not-use-quotes-for-numbers" title="Permalink to this headline">¶</a></h2>
<p>For numeric characters, do not use quotes. If the expected value is a number and you provide a number wrapped in quotes, some modules will raise ‘type’ errors.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;1&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;100&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="begin-yaml-files-with-a-triple-dash">
<h2>Begin YAML files with a triple-dash<a class="headerlink" href="#begin-yaml-files-with-a-triple-dash" title="Permalink to this headline">¶</a></h2>
<p>A YAML file usually begins with three dashes. As such, you should have that as part of your own YAML files.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;1&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;100&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="give-each-task-a-name">
<h2>Give each task a name<a class="headerlink" href="#give-each-task-a-name" title="Permalink to this headline">¶</a></h2>
<p>When your Playbooks encounter errors, the name of the task is always called out in the failure. If you do not provide a name, Ansible creates a name by using the module call itself.</p>
<p>Naming your tasks allows you to quickly reference where a failure occurred.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">My task</span>
  <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">1</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="nt">bigip_module</span><span class="p">:</span>
      <span class="nt">alpha</span><span class="p">:</span> <span class="s">&quot;1&quot;</span>
      <span class="nt">beta</span><span class="p">:</span> <span class="s">&quot;100&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="always-include-a-documentation-variable">
<h2>Always include a DOCUMENTATION variable<a class="headerlink" href="#always-include-a-documentation-variable" title="Permalink to this headline">¶</a></h2>
<p>Ansible requires the DOCUMENTATION variable; it serves as the source of the module documentation that appears on their website.</p>
<p>Good documentation is essential to others being able to use the module, so you must include it.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DOCUMENTATION</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">---</span>
<span class="s1">module: bigip_device_ntp</span>
<span class="s1">short_description: Manage NTP servers on a BIG-IP</span>
<span class="s1">description:</span>
<span class="s1">  - Manage NTP servers on a BIG-IP</span>
<span class="s1">version_added: &quot;2.1&quot;</span>
<span class="s1">options:</span>
<span class="s1">...</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Missing</span> <span class="n">DOCUMENTATION</span> <span class="n">variable</span>
</pre></div>
</div>
</div>
<div class="section" id="always-include-an-examples-variable">
<h2>Always include an EXAMPLES variable<a class="headerlink" href="#always-include-an-examples-variable" title="Permalink to this headline">¶</a></h2>
<p>Useful and valid examples are crucial for people new to Ansible and for the module itself.</p>
<p>When providing examples, be mindful of what you provide. If you developed the module with a specific use case in mind, be sure to include that use case. It may be applicable to a large majority of users and may eliminate a significant portion of time that they would otherwise spend figuring out what is or is not needed.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">EXAMPLES</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">- name: Set the banner for the SSHD service from a string</span>
<span class="s1">  bigip_device_sshd:</span>
<span class="s1">      banner: &quot;enabled&quot;</span>
<span class="s1">      banner_text: &quot;banner text goes here&quot;</span>
<span class="s1">      password: &quot;admin&quot;</span>
<span class="s1">      server: &quot;bigip.localhost.localdomain&quot;</span>
<span class="s1">      user: &quot;admin&quot;</span>
<span class="s1">  delegate_to: localhost</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Missing</span> <span class="n">EXAMPLES</span> <span class="n">variable</span>
</pre></div>
</div>
</div>
<div class="section" id="always-include-a-return-variable">
<h2>Always include a RETURN variable<a class="headerlink" href="#always-include-a-return-variable" title="Permalink to this headline">¶</a></h2>
<p>The RETURN variable provides documentation essential to determining what, if any, information the module returns.</p>
<p>Other users will reference this documentation when they want to use the <code class="docutils literal notranslate"><span class="pre">register</span></code> keyword.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">RETURN</span></code> field should include the parameters that your module has changed. If nothing has changed, then the module does not need to return any values.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RETURN</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">full_name:</span>
<span class="s1">    description: Full name of the user</span>
<span class="s1">    returned: changed</span>
<span class="s1">    type: string</span>
<span class="s1">    sample: &quot;John Doe&quot;</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Missing</span> <span class="n">RETURN</span> <span class="n">variable</span>
</pre></div>
</div>
<p>According to <cite>bcoca</cite>, the correct way to set a RETURN variable when a module does not return any information is the following.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">RETURN</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1"># only common fields returned</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="make-the-author-field-a-list">
<h2>Make the author field a list<a class="headerlink" href="#make-the-author-field-a-list" title="Permalink to this headline">¶</a></h2>
<p>Multiple people will probably maintain the module over time, so it is a good idea to make the <code class="docutils literal notranslate"><span class="pre">author</span></code> keyword in your module a list.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">author</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Tim Rupp (@caphrim007)</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">author</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Tim Rupp (@caphrim007)</span>
</pre></div>
</div>
</div>
<div class="section" id="use-github-handle-for-the-author-name">
<h2>Use GitHub handle for the author name<a class="headerlink" href="#use-github-handle-for-the-author-name" title="Permalink to this headline">¶</a></h2>
<p>Both Ansible and the F5 Ansible repository are on GitHub. Therefore, for maintenance reasons, F5 requires your GitHub handle. Additionally, your email address may change over time.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">author</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Tim Rupp (@caphrim007)</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">author</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Tim Rupp &lt;caphrim007@gmail.com&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="use-2-spaces-in-documentation-examples-and-return">
<h2>Use 2 spaces in DOCUMENTATION, EXAMPLES, and RETURN<a class="headerlink" href="#use-2-spaces-in-documentation-examples-and-return" title="Permalink to this headline">¶</a></h2>
<p>Follow this simple spacing convention to ensure that everything is properly spaced.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span>
  <span class="nt">server</span><span class="p">:</span>
    <span class="nt">description</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">BIG-IP host</span>
    <span class="nt">required</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="nt">user</span><span class="p">:</span>
<span class="l l-Scalar l-Scalar-Plain">^^</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span>
    <span class="nt">server</span><span class="p">:</span>
        <span class="nt">description</span><span class="p">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">BIG-IP host</span>
        <span class="nt">required</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="nt">user</span><span class="p">:</span>
<span class="l l-Scalar l-Scalar-Plain">^^^^</span>
</pre></div>
</div>
</div>
<div class="section" id="use-ansible-lookup-plugins-where-appropriate">
<h2>Use Ansible lookup plugins where appropriate<a class="headerlink" href="#use-ansible-lookup-plugins-where-appropriate" title="Permalink to this headline">¶</a></h2>
<p>Ansible provides existing facilities that you can use to read in file contents to a module’s parameters.</p>
<p>If your module can accept a string or a file containing a string, then assume that users will be using the lookup plugins.</p>
<p>For example, SSL files are typically strings. SSH keys are also strings, even if they are in a file. Therefore, you would delegate the fetching of the string data to a lookup plugin.</p>
<p>There should be no need to use the python <code class="docutils literal notranslate"><span class="pre">open</span></code> facility to read in the file.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">some_module</span><span class="p">:</span>
    <span class="nt">string_param</span><span class="p">:</span> <span class="s">&quot;{{</span><span class="nv"> </span><span class="s">lookup(&#39;file&#39;,</span><span class="nv"> </span><span class="s">&#39;/path/to/file&#39;)</span><span class="nv"> </span><span class="s">}}&quot;</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">some_module</span><span class="p">:</span>
    <span class="nt">param</span><span class="p">:</span> <span class="s">&quot;/path/to/file&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="always-expand-lists-in-the-various-documentation-variables">
<h2>Always expand lists in the various documentation variables<a class="headerlink" href="#always-expand-lists-in-the-various-documentation-variables" title="Permalink to this headline">¶</a></h2>
<p>When you list examples or documentation in any of the following variables:</p>
<ul class="simple">
<li><p>DOCUMENTATION</p></li>
<li><p>RETURN</p></li>
<li><p>EXAMPLES</p></li>
</ul>
<p>Always expand lists of values if the key takes a list value.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span>
  <span class="nt">state</span><span class="p">:</span>
    <span class="nt">description</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">The state of things</span>
    <span class="nt">choices</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">absent</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">options</span><span class="p">:</span>
  <span class="nt">state</span><span class="p">:</span>
    <span class="nt">description</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">The state of things</span>
    <span class="nt">choices</span><span class="p">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;enabled&#39;</span><span class="p p-Indicator">,</span> <span class="s">&#39;disabled&#39;</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<div class="section" id="specify-the-big-ip-version">
<h2>Specify the BIG-IP version<a class="headerlink" href="#specify-the-big-ip-version" title="Permalink to this headline">¶</a></h2>
<p>In the <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> section notes, you should specify which version of BIG-IP the module requires.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">notes</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Requires BIG-IP version 12.0.0 or greater</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">Any version less than 12.0.0.</span>
</pre></div>
</div>
<p>If your module requires functionality greater than 12.0.0 it is also acceptable to specify that in the <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> block.</p>
</div>
<div class="section" id="never-raise-a-general-exception">
<h2>Never raise a general exception<a class="headerlink" href="#never-raise-a-general-exception" title="Permalink to this headline">¶</a></h2>
<p>General exceptions are bad because they hide unknown errors from you, the developer. If a bug report comes in and an exception that you do not handle causes the exception, the issue will be exceedingly difficult to debug.</p>
<p>Instead, only catch the <cite>F5ModuleError</cite> exception that the <cite>f5-sdk</cite> provides. Specifically raise this module and handle those errors. If an unknown error occurs, a full traceback will allow you to debug the problem more easily.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">//</span> <span class="n">do</span> <span class="n">some</span> <span class="n">things</span> <span class="n">here</span> <span class="n">that</span> <span class="n">can</span> <span class="n">cause</span> <span class="n">an</span> <span class="ne">Exception</span>
<span class="k">except</span> <span class="n">bigsuds</span><span class="o">.</span><span class="n">OperationFailed</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">F5ModuleError</span><span class="p">(</span><span class="s1">&#39;Error on setting profiles : </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">foo</span><span class="p">:</span>
    <span class="o">//</span> <span class="n">assume</span> <span class="n">something</span> <span class="n">successful</span> <span class="n">happens</span> <span class="n">here</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">F5ModuleError</span><span class="p">(</span><span class="s1">&#39;Error on baz&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="o">//</span> <span class="n">do</span> <span class="n">some</span> <span class="n">things</span> <span class="n">here</span> <span class="n">that</span> <span class="n">can</span> <span class="n">cause</span> <span class="n">an</span> <span class="ne">Exception</span>
<span class="k">except</span> <span class="n">bigsuds</span><span class="o">.</span><span class="n">OperationFailed</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error on setting profiles : </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">foo</span><span class="p">:</span>
    <span class="o">//</span> <span class="n">assume</span> <span class="n">something</span> <span class="n">successful</span> <span class="n">happens</span> <span class="n">here</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;Error on baz&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="support-check-mode">
<h2>Support check mode<a class="headerlink" href="#support-check-mode" title="Permalink to this headline">¶</a></h2>
<p>Check mode allows Ansible to run your Playbooks in a dry-run sort of operation. This is handy when you want to run a set of tasks but are not sure what will happen when you do.</p>
<p>Because BIG-IPs are usually considered a sensitive device to handle, you should always implement a check mode.</p>
<p><a href="http://www.jeffgeerling.com/blog/yaml-best-practices-ansible-playbooks-tasks" target="_blank">http://www.jeffgeerling.com/blog/yaml-best-practices-ansible-playbooks-tasks</a></p>
</div>
<div class="section" id="do-not-use-local-action-in-your-examples">
<h2>Do not use local_action in your EXAMPLES<a class="headerlink" href="#do-not-use-local-action-in-your-examples" title="Permalink to this headline">¶</a></h2>
<p>Some people prefer local_action and some people prefer delegation. Delegation is more applicable to general-purpose Ansible, so you should get in the habit of using and understanding it.</p>
<p>Therefore, do not use <cite>local_action</cite> when defining examples. Instead, use <cite>delegate_to</cite>.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">setup</span> <span class="n">screen</span>
  <span class="n">bigip_sys_db</span><span class="p">:</span>
      <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
      <span class="n">password</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span>
      <span class="n">server</span><span class="p">:</span> <span class="s2">&quot;lb.mydomain.com&quot;</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;setup.run&quot;</span>
      <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;reset&quot;</span>
  <span class="n">delegate_to</span><span class="p">:</span> <span class="n">localhost</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">setup</span> <span class="n">screen</span>
  <span class="n">local_action</span><span class="p">:</span>
      <span class="n">module</span><span class="p">:</span> <span class="s2">&quot;bigip_sys_db&quot;</span>
      <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
      <span class="n">password</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span>
      <span class="n">server</span><span class="p">:</span> <span class="s2">&quot;lb.mydomain.com&quot;</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;setup.run&quot;</span>
      <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;reset&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="set-default-example-parameters">
<h2>Set default EXAMPLE parameters<a class="headerlink" href="#set-default-example-parameters" title="Permalink to this headline">¶</a></h2>
<p>For consistency, always use the following values for the given parameters, so you do not have to over-think the inclusion of your example:</p>
<ul class="simple">
<li><p>user: “admin”</p></li>
<li><p>password: “secret”</p></li>
<li><p>server: “lb.mydomain.com”</p></li>
</ul>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">setup</span> <span class="n">screen</span>
  <span class="n">bigip_sys_db</span><span class="p">:</span>
      <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
      <span class="n">password</span><span class="p">:</span> <span class="s2">&quot;secret&quot;</span>
      <span class="n">server</span><span class="p">:</span> <span class="s2">&quot;lb.mydomain.com&quot;</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;setup.run&quot;</span>
      <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;reset&quot;</span>
  <span class="n">delegate_to</span><span class="p">:</span> <span class="n">localhost</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Reset</span> <span class="n">the</span> <span class="n">initial</span> <span class="n">setup</span> <span class="n">screen</span>
  <span class="n">bigip_sys_db</span><span class="p">:</span>
      <span class="n">user</span><span class="p">:</span> <span class="s2">&quot;joe_user&quot;</span>
      <span class="n">password</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span>
      <span class="n">server</span><span class="p">:</span> <span class="s2">&quot;bigip.host&quot;</span>
      <span class="n">key</span><span class="p">:</span> <span class="s2">&quot;setup.run&quot;</span>
      <span class="n">state</span><span class="p">:</span> <span class="s2">&quot;reset&quot;</span>
  <span class="n">delegate_to</span><span class="p">:</span> <span class="n">localhost</span>
</pre></div>
</div>
</div>
<div class="section" id="assign-values-before-returning-them">
<h2>Assign values before returning them<a class="headerlink" href="#assign-values-before-returning-them" title="Permalink to this headline">¶</a></h2>
<p>To enable easier debugging when something goes wrong, ensure that you assign values <strong>before</strong> you return those values.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">gtm</span><span class="o">.</span><span class="n">pools</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">partition</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">partition</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">exists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">gtm</span><span class="o">.</span><span class="n">pools</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
        <span class="n">partition</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">partition</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>In the bad example, when it comes time to debug the value of the variable, you must change the code to do an assignment operation anyway.</p>
<p>For example, if you use <cite>q</cite> to debug the value, you must implicitly assign the value of the API call before you do this.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">....</span>
<span class="n">q</span><span class="o">.</span><span class="n">q</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<p>When the code does not do an assignment, then you must change the code before you are able to debug the code.</p>
</div>
<div class="section" id="create-a-functional-test-for-each-code-fix">
<h2>Create a functional test for each code fix<a class="headerlink" href="#create-a-functional-test-for-each-code-fix" title="Permalink to this headline">¶</a></h2>
<p>When you fix an issue and it requires changes to code, you should create a new functional test YAML file in the module’s <cite>test/integration/PRODUCT/targets</cite> directory.</p>
<p>For example, consider <a class="reference external" href="https://github.com/F5Networks/f5-ansible/issues/59">Github Issue 59</a>, which is relevant to the <cite>bigip_virtual_server</cite> module.</p>
<p>The developer added new code to the module. To verify that someone tested the new code, the developer should add a new file to the module’s <cite>targets</cite> directory here:</p>
<ul class="simple">
<li><p><cite>test/functional/bigip/bigip_virtual_server/tasks</cite></p></li>
</ul>
<p>The name of the file should be:</p>
<ul class="simple">
<li><p><cite>issue-59.yaml</cite></p></li>
</ul>
<p>And inside the file, you should include any and all work to:</p>
<ul class="simple">
<li><p>Set up the test</p></li>
<li><p>Perform the test</p></li>
<li><p>Teardown the test</p></li>
</ul>
<p>Any issues that you report on GitHub should follow the same pattern. However, the filenames of those modules should be:</p>
<ul class="simple">
<li><p><cite>ansible-xxxxx.yaml</cite></p></li>
</ul>
<p>This way, they will not conflict with the numeric namespace in the <cite>f5-ansible</cite> repository.</p>
</div>
<div class="section" id="exclude-code-from-unit-test-coverage">
<h2>Exclude code from unit test coverage<a class="headerlink" href="#exclude-code-from-unit-test-coverage" title="Permalink to this headline">¶</a></h2>
<p>Ansible’s test runner makes use of <cite>pytest</cite>, so the acceptable way of excluding lines from code coverage is here:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://coverage.readthedocs.io/en/coverage-4.2/excluding.html">http://coverage.readthedocs.io/en/coverage-4.2/excluding.html</a></p></li>
</ul>
<p>You should use this to include the various <cite>*_on_device</cite> and <cite>*_from_device</cite> methods in modules that make direct calls to the remote BIG-IPs.</p>
</div>
<div class="section" id="put-exception-message-on-a-new-line">
<h2>Put exception message on a new line<a class="headerlink" href="#put-exception-message-on-a-new-line" title="Permalink to this headline">¶</a></h2>
<p>This convention helps eliminate the total number of columns in use, but also increases readability when long lines tend to scroll off screen. Even with a 160 column limit for this project, long lines, and many lines, can begin to grow less compact.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="k">raise</span> <span class="n">F5ModuleError</span><span class="p">(</span>
    <span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; is not a supported filter. &#39;</span>
    <span class="s1">&#39;Supported key values are: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">keys</span><span class="p">)))</span>
<span class="p">)</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="k">raise</span> <span class="n">F5ModuleError</span><span class="p">(</span><span class="s1">&#39;&quot;</span><span class="si">{0}</span><span class="s1">&quot; is not a supported filter. &#39;</span>
                    <span class="s1">&#39;Supported key values are: </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">keys</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="put-list-contents-on-a-new-line">
<h2>Put list contents on a new line<a class="headerlink" href="#put-list-contents-on-a-new-line" title="Permalink to this headline">¶</a></h2>
<p>Lists should also be on a new line. The ending bracket should be on a new line as well, aligned with the beginning of the variable name.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
    <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;biz&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">,</span>
          <span class="s1">&#39;baz&#39;</span><span class="p">,</span> <span class="s1">&#39;biz&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="include-the-license-header">
<h2>Include the license header<a class="headerlink" href="#include-the-license-header" title="Permalink to this headline">¶</a></h2>
<p>Each module requires a license header that includes the GPL3 license.</p>
<p>Here is the common license header.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Copyright 2016 F5 Networks Inc.</span>
<span class="c1">#</span>
<span class="c1"># This file is part of Ansible</span>
<span class="c1">#</span>
<span class="c1"># Ansible is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># Ansible is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with Ansible.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span>
</pre></div>
</div>
<p>If the module under development is your original work, then you can include your name in the copyright above.</p>
<p>If you are only contributing to an existing module, then it is not necessary to include a copyright line at the top. Instead, accepting the F5 CLA is sufficient to get code merged into the F5 branch.</p>
</div>
<div class="section" id="include-the-ansible-metadata-variable">
<h2>Include the ANSIBLE_METADATA variable<a class="headerlink" href="#include-the-ansible-metadata-variable" title="Permalink to this headline">¶</a></h2>
<p>The ANSIBLE_METADATA variable should be first in your module. It specifies metadata for the module itself. It can always look the same.</p>
<p>Here is how it’s defined in code.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ANSIBLE_METADATA</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;preview&#39;</span><span class="p">],</span>
                    <span class="s1">&#39;supported_by&#39;</span><span class="p">:</span> <span class="s1">&#39;community&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.0&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>The stubber creates this for you automatically.</p>
</div>
<div class="section" id="do-not-include-required-key-for-non-required-parameters">
<h2>Do not include required key for non-required parameters<a class="headerlink" href="#do-not-include-required-key-for-non-required-parameters" title="Permalink to this headline">¶</a></h2>
<p>This convention comes to us courtesy of Ansible module-authoring rules. This convention limits the amount of verbosity in module code. Additionally, conflict can occur if you do not follow this convention (who is right? docs or code?).</p>
<p>Ansible, by default, makes parameters not required. It is redundant to provide it again in your documentation.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">...</span>
<span class="nt">login</span><span class="p">:</span>
  <span class="nt">description</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Specifies, when checked C(enabled), that the system accepts SSH</span>
      <span class="l l-Scalar l-Scalar-Plain">communications.</span>
  <span class="nt">choices</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enabled</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">disabled</span>
<span class="nn">...</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">...</span>
<span class="nt">login</span><span class="p">:</span>
  <span class="nt">description</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Specifies, when checked C(enabled), that the system accepts SSH</span>
      <span class="l l-Scalar l-Scalar-Plain">communications.</span>
  <span class="nt">choices</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enabled</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">disabled</span>
  <span class="nt">required</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">False</span>
<span class="nn">...</span>
</pre></div>
</div>
</div>
<div class="section" id="do-not-include-default-key-for-parameters-without-defaults">
<h2>Do not include default key for parameters without defaults<a class="headerlink" href="#do-not-include-default-key-for-parameters-without-defaults" title="Permalink to this headline">¶</a></h2>
<p>Another convention from Ansible, similar to the <cite>required: False</cite> convention, is applying the rule to the <cite>default</cite> value. Since <cite>default: None</cite> is already the value that Ansible uses (in code), it is redundant to provide it again in the docs.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">...</span>
<span class="nt">login</span><span class="p">:</span>
  <span class="nt">description</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Specifies, when checked C(enabled), that the system accepts SSH</span>
      <span class="l l-Scalar l-Scalar-Plain">communications.</span>
  <span class="nt">choices</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enabled</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">disabled</span>
<span class="nn">...</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nn">...</span>
<span class="nt">login</span><span class="p">:</span>
  <span class="nt">description</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">Specifies, when checked C(enabled), that the system accepts SSH</span>
      <span class="l l-Scalar l-Scalar-Plain">communications.</span>
  <span class="nt">choices</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">enabled</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">disabled</span>
  <span class="nt">default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">None</span>
<span class="nn">...</span>
</pre></div>
</div>
</div>
<div class="section" id="do-not-decompose-to-a-device-method-if-the-using-method-is-itself-a-device-method">
<h2>Do not decompose to a *_device method if the using method is itself a *_device method<a class="headerlink" href="#do-not-decompose-to-a-device-method-if-the-using-method-is-itself-a-device-method" title="Permalink to this headline">¶</a></h2>
<p>This convention is in place to limit the total amount of function decomposition that you will inevitably try to put into the code.</p>
<p>Some level of decomposition is good because it isolates the code that targets the device (called <cite>*_device</cite> methods) from the code that does not communicate with the device.</p>
<p>This method of isolation is how you extend modules when the API code diverges, or when the means of transporting information from and to the device changes.</p>
<p>You can take this decomposition too far, though. Refer to the examples below for an illustration of this. When you go to far, the correction is to merge the two methods.</p>
<p><strong>GOOD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="k">def</span> <span class="nf">import_to_device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">asm</span><span class="o">.</span><span class="n">file_transfer</span><span class="o">.</span><span class="n">uploads</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">asm</span><span class="o">.</span><span class="n">tasks</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">import_policy_s</span><span class="o">.</span><span class="n">import_policy</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="o">...</span>
</pre></div>
</div>
<p><strong>BAD</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="k">def</span> <span class="nf">upload_to_device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">asm</span><span class="o">.</span><span class="n">file_transfer</span><span class="o">.</span><span class="n">uploads</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">import_to_device</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">upload_to_device</span><span class="p">()</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">asm</span><span class="o">.</span><span class="n">tasks</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">import_policy_s</span><span class="o">.</span><span class="n">import_policy</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">name</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
<span class="o">...</span>
</pre></div>
</div>
<p>This convention remains valid when the code you are using is a single line. Therefore, if you use the <cite>upload_file</cite> line in many places in the code, it is <strong>still</strong> correct to merge the methods instead of having a different method for it.</p>
<p>The only time when it would be correct to decompose it is if the “other” methods were <strong>not</strong> <cite>*_device</cite> methods.</p>
</div>
</div>


    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  </body>
</html>