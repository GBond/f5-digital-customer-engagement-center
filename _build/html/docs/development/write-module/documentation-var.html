<!DOCTYPE html>
<div id="clouddocs-header">
  <div class="container-fluid">
    <div class="row corp-header">
      <div class="container corp-header">
        <div class="container corp-menu">
          <ul>
            <li><a href="https://f5.com" class="internalLink">F5.com</a></li>
            <li><a href="https://github.com/F5Networks" class="externalLink">GitHub</a></li>
            <li><a href="https://devcentral.f5.com" class="internalLink">Devcentral</a></li>
            <li><a href="https://support.f5.com" class="internalLink">Support</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script async="async"
      src="https://consent.trustarc.com/notice?domain=f5.com&amp;c=teconsent&amp;text=true&amp;gtm=1" crossorigin=""
      id="truste_0.12182038258598205"></script>

    <div class="row pageHeader">
      <div class="container stat">
        <div class="col-xs-12 stat">
          <a class="internalLink" href="https://f5.com">
            <img class="logo" src="https://cdn.f5.com/websites/support/assets/images/logo.svg" width="50" height="44"
              alt="F5 Networks" title="F5 Networks" border="0">
          </a>
          <ul id="MainMenu" class="main-menu">
            <li data-submenu-id="products">
              <a data-link-type="nav: main" href="#" class="currentURL">Products
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="products-submenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h">BIG-IP Extensibility</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest" data-link-type="Nav: Mega">F5
                            Application Services Extension 3</a></li>
                        <li><a href="https://clouddocs.f5.com/products/agc/latest" data-link-type="Nav: Mega">BIG-IP APM Access Guided
                            Configuration</a></li>
                        <li><a href="https://clouddocs.f5.com/products/iapp/iapp-lx/latest" data-link-type="Nav: Mega">iApps LX/iControl LX</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-declarative-onboarding/latest"
                            data-link-type="Nav: Mega">F5 Declarative Onboarding</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-telemetry-streaming/latest" data-link-type="Nav: Mega">F5
                            Telemetry Streaming</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest" data-link-type="Nav: Mega">F5 Cloud
                            Failover</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-templates/latest/" data-link-type="Nav: Mega">F5
                            Application Services Templates</a></li>
                      </ul>
                    </li>


                    <li class="divider"></li>
                    <li><span class="a-mm-h">Container Ingress Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/" data-link-type="Nav: Mega">F5 BIG-IP Controller for
                            Kubernetes/OpenShift</a></li>
                      </ul>
                      <span class="a-mm-h">Network Function Virtualization</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/nfv/latest" data-link-type="Nav: Mega">F5 VNF Manager</a></li>
                      </ul>
                      <span class="a-mm-h">SDK</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-cli" target="_blank">F5 CLI</a></li>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-sdk-python" target="_blank">F5 SDK Python</a></li>
                      </ul>
                    </li>



                    <li class="divider"></li>
                    <li>
                      <span class="a-mm-h">OpenStack</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/openstack/agent/latest" data-link-type="Nav: Mega">F5 Agent - OpenStack
                            Neutron</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/lbaasv2-driver/latest" data-link-type="Nav: Mega">F5 Driver -
                            OpenStack LBaaS</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/heat-plugins/latest" data-link-type="Nav: Mega">F5 Plugins -
                            OpenStack Heat</a></li>
                      </ul>

                      <span class="a-mm-h">Ecosystems Integrations</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/f5-aci-servicecenter/latest" data-link-type="Nav: Mega">F5 ACI ServiceCenter</a>
                        </li>
                      </ul>


                    </li>
                    <li class="divider"></li>
                    <li><span class="a-mm-h">Orchestration</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/ansible/devel" target="_blank">F5 Modules for Ansible</a>
                        </li>
                        <li><a href="https://github.com/F5Networks/f5-aws-cloudformation" target="_blank"
                            class="externalLink">F5 Templates for AWS CloudFormation</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-azure-arm-templates" target="_blank"
                            class="externalLink">F5 Templates for Azure ARM</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-google-gdm-templates" target="_blank"
                            class="externalLink">F5 Templates for Google Cloud Deployment Manager</a> (GitHub)</li>
                        <li><a href="https://clouddocs.f5.com/products/templates/openstack-heat/latest" data-link-type="Nav: Mega">F5 Templates
                            for OpenStack Heat</a></li>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/terraform/latest/" data-link-type="Nav: Mega">F5 Resources
                            for Terraform Provider</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>

            <!--- NEW -->
            <li>
              <a href="#" class="currentURL">APIs
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="APISubmenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/big-iq/mgmt-api/latest/" data-link-type="Nav: Mega">F5 BIG-IQ API</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/api/iapps/">F5 BIG-IP iApps</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules">F5 BIG-IP iRules API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules-lx">F5 BIG-IP iRulesLX API</a></li>
                      </ul>
                    </li>

                    <li class="divider"></li>

                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-rest">F5 BIG-IP iControlREST API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-soap/">F5 BIG-IP iControl API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/ihealth/">F5 iHealth API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/tmsh">F5 tmsh scripting API</a></li>
                      </ul>
                    </li>

                  </ul>
                </div>
              </div>
            </li>




            <li>
              <a href="#" class="currentURL">Cloud &amp; Container
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="ContainersSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third"><span class="a-mm-h">Cloud Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GS-About.html"
                            data-link-type="Nav: Mega">Get Started</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Beacon-About.html"
                            data-link-type="Nav: Mega">Beacon</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-DNS-About.html"
                            data-link-type="Nav: Mega">DNS Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GSLB-About.html"
                            data-link-type="Nav: Mega">DNS Load Balancer Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Essential.App.Protect-About.html"
                            data-link-type="Nav: Mega">Essential App Protect Service</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Clouds</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/aws_index.html" data-link-type="Nav: Mega">AWS</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/azure_index.html" data-link-type="Nav: Mega">Azure</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/google_index.html" data-link-type="Nav: Mega">Google Cloud</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/cloud/openstack/" data-link-type="Nav: Mega">OpenStack</a></li>
                      </ul>
                      <!-- unnecessary right now>
                    <span class="seemore"><a data-link-type="Nav: Mega" href="/cloud/">See all </a></span>
                    <-->
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Containers</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/kubernetes/" data-link-type="Nav: Mega">Kubernetes</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/openshift/" data-link-type="Nav: Mega">OpenShift</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
            <li>
              <a href="#" class="currentURL">Resources
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="UPCProgramSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third">
                      <span class="a-mm-h">Downloads</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://hub.docker.com/r/f5networks/"
                            class="internalLink externalLink">Docker Hub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega"
                            href="https://store.docker.com/images/f5networks-asp"
                            class="internalLink externalLink">Docker Store</a></li>
                      </ul>
                      <span class="a-mm-h">OpenSource</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5Networks"
                            class="internalLink externalLink">F5Networks on GitHub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5DevCentral"
                            class="internalLink externalLink">F5DevCentral on GitHub</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third">
                      <span class="a-mm-h">Training &amp; Labs</span>
                      <ul>
                        <li>
                          <p>Learn how to get the most out of the F5 platform</p>
                        </li>
                        <li><a href="https://clouddocs.f5.com/training/community">Community</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>

                    <li class="third">
                      <a href="//university.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega">F5 University</a>
                      <ul>
                        <li>
                          <p>Get up to speed with free self-paced courses</p>
                        </li>
                      </ul>
                      <a data-ng-href="https://devcentral.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega" href="https://devcentral.f5.com">DevCentral</a>
                      <ul>
                        <li>
                          <p>Join the community of 250,000+ technical peers</p>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
          </ul>
        </div>

        <div class="col-xs-12 stat">
          <div class="topLinks">
            <span class="glyphicon glyphicon-search upc-search" id="search-toggle" style="display: none;"></span>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- /container-fluid -->
</div>
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DOCUMENTATION variable &#8212; F5 Digital Customer Engagement Center 0.1 documentation</title>
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <nav class="nav-sidebartoc">

        
        <h5>F5 Digital Customer Engagement Center 0.1 </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">DOCUMENTATION variable</a><ul>
<li><a class="reference internal" href="#documentation-header">Documentation header</a></li>
<li><a class="reference internal" href="#a-note-on-raw-string-literals">A note on raw string literals</a></li>
<li><a class="reference internal" href="#specifying-options-parameters">Specifying options (parameters)</a></li>
<li><a class="reference internal" href="#if-you-leave-anything-out">If you leave anything out</a></li>
<li><a class="reference internal" href="#conclusion">Conclusion</a></li>
</ul>
</li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/filing-issues.html">Filing issues</a></li>
</ul>
<p class="caption"><span class="caption-text">Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/delivery/delivery_index.html">Application Delivery controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../solutions/security/security_index.html">Security</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-involved.html">How to get involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guidelines.html">Guidelines</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">CloudDocs Home</a> &gt; <a href="../../../index.html">F5 Digital Customer Engagement Center </a> &gt; DOCUMENTATION variable</li>
          </ul>
      </nav>
      

    
  <div class="section" id="documentation-variable">
<h1>DOCUMENTATION variable<a class="headerlink" href="#documentation-variable" title="Permalink to this headline">¶</a></h1>
<p>The DOCUMENTATION variable is the first chunk of code that you will insert. It describes the module and names the parameters it accepts, who the authors/maintainers are, its dependencies, and a variety of other things.</p>
<p>This area of the module is near the top, but note that you were not instructed to change anything else near the top. This is because when fleshing out a stub, a lot of boilerplate is included for you automatically.</p>
<p>This actually makes writing modules easier. You no longer need to concern yourself with writing this boilerplate; only changing it as necessary. This can really shorten your development time for a module that uses a good API.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">f5ansible</span></code> tool created all of what you see, but you are concerned right now with only documenting this module. The stub includes some of that work for you. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DOCUMENTATION</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">---</span>
<span class="s1">module: {{ module }}</span>
<span class="s1">short_description: __SHORT_DESCRIPTION__</span>
<span class="s1">description:</span>
<span class="s1">  - __LONG DESCRIPTION__.</span>
<span class="s1">version_added: 2.6</span>
<span class="s1">options:</span>
<span class="s1">  name:</span>
<span class="s1">    description:</span>
<span class="s1">      - Specifies the name of the ... .</span>
<span class="s1">    required: True</span>
<span class="s1">extends_documentation_fragment: f5</span>
<span class="s1">author:</span>
<span class="s1">  - Tim Rupp (@caphrim007)</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p>This content is used to generate the online documentation and you must update it.</p>
<p>It’s critical that this documentation reflects what the module is intended to do, as well as what it actually does.</p>
<p>Now copy the following code into your own copy of the <code class="docutils literal notranslate"><span class="pre">bigip_policy_rule</span></code> module.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">DOCUMENTATION</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">---</span>
<span class="s1">module: bigip_policy_rule</span>
<span class="s1">short_description: Manage LTM policy rules on a BIG-IP</span>
<span class="s1">description:</span>
<span class="s1">  - This module will manage LTM policy rules on a BIG-IP.</span>
<span class="s1">version_added: 2.5</span>
<span class="s1">options:</span>
<span class="s1">  description:</span>
<span class="s1">    description:</span>
<span class="s1">      - Description of the policy rule.</span>
<span class="s1">  actions:</span>
<span class="s1">    description:</span>
<span class="s1">      - The actions that you want the policy rule to perform.</span>
<span class="s1">      - The available attributes vary by the action, however, each action requires that</span>
<span class="s1">        a C(type) be specified.</span>
<span class="s1">      - These conditions can be specified in any order. Despite them being a list, the</span>
<span class="s1">        BIG-IP does not treat their order as anything special.</span>
<span class="s1">      - Available C(type) values are C(forward).</span>
<span class="s1">    suboptions:</span>
<span class="s1">      type:</span>
<span class="s1">        description:</span>
<span class="s1">          - The action type. This value controls what below options are required.</span>
<span class="s1">          - When C(type) is C(forward), will associate a given C(pool) with this rule.</span>
<span class="s1">          - When C(type) is C(enable), will associate a given C(asm_policy) with</span>
<span class="s1">            this rule.</span>
<span class="s1">          - When C(type) is C(ignore), will remove all existing actions from this</span>
<span class="s1">            rule.</span>
<span class="s1">        required: true</span>
<span class="s1">        choices: [ &#39;forward&#39;, &#39;enable&#39;, &#39;ignore&#39; ]</span>
<span class="s1">      pool:</span>
<span class="s1">        description:</span>
<span class="s1">          - Pool that you want to forward traffic to.</span>
<span class="s1">          - This parameter is only valid with the C(forward) type.</span>
<span class="s1">      asm_policy:</span>
<span class="s1">        description:</span>
<span class="s1">          - ASM policy to enable.</span>
<span class="s1">          - This parameter is only valid with the C(enable) type.</span>
<span class="s1">  policy:</span>
<span class="s1">    description:</span>
<span class="s1">      - The name of the policy that you want to associate this rule with.</span>
<span class="s1">    required: True</span>
<span class="s1">  name:</span>
<span class="s1">    description:</span>
<span class="s1">      - The name of the rule.</span>
<span class="s1">    required: True</span>
<span class="s1">  conditions:</span>
<span class="s1">    description:</span>
<span class="s1">      - A list of attributes that describe the condition.</span>
<span class="s1">      - See suboptions for details on how to construct each list entry.</span>
<span class="s1">      - The ordering of this list is important, the module will ensure the order is</span>
<span class="s1">        kept when modifying the task.</span>
<span class="s1">      - The suboption options listed below are not required for all condition types,</span>
<span class="s1">        read the description for more details.</span>
<span class="s1">      - These conditions can be specified in any order. Despite them being a list, the</span>
<span class="s1">        BIG-IP does not treat their order as anything special.</span>
<span class="s1">    suboptions:</span>
<span class="s1">      type:</span>
<span class="s1">        description:</span>
<span class="s1">          - The condition type. This value controls what below options are required.</span>
<span class="s1">          - When C(type) is C(http_uri), will associate a given C(path_begins_with_any)</span>
<span class="s1">            list of strings with which the HTTP URI should begin with. Any item in the</span>
<span class="s1">            list will provide a match.</span>
<span class="s1">          - When C(type) is C(all_traffic), will remove all existing conditions from</span>
<span class="s1">            this rule.</span>
<span class="s1">        required: true</span>
<span class="s1">        choices: [ &#39;http_uri&#39;, &#39;all_traffic&#39; ]</span>
<span class="s1">      path_begins_with_any:</span>
<span class="s1">        description:</span>
<span class="s1">          - A list of strings of characters that the HTTP URI should start with.</span>
<span class="s1">          - This parameter is only valid with the C(http_uri) type.</span>
<span class="s1">  state:</span>
<span class="s1">    description:</span>
<span class="s1">      - When C(present), ensures that the key is uploaded to the device. When</span>
<span class="s1">        C(absent), ensures that the key is removed from the device. If the key</span>
<span class="s1">        is currently in use, the module will not be able to remove the key.</span>
<span class="s1">    default: present</span>
<span class="s1">    choices:</span>
<span class="s1">      - present</span>
<span class="s1">      - absent</span>
<span class="s1">  partition:</span>
<span class="s1">    description:</span>
<span class="s1">      - Device partition to manage resources on.</span>
<span class="s1">    default: Common</span>
<span class="s1">extends_documentation_fragment: f5</span>
<span class="s1">requirements:</span>
<span class="s1">  - BIG-IP &gt;= v12.1.0</span>
<span class="s1">author:</span>
<span class="s1">  - Tim Rupp (@caphrim007)</span>
<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
<p>The first key takeaway from this documentation blob is that the order of the keys is irrelevant.</p>
<p>This is a variable in Python that contains a string that is formatted in YAML. YAML
has a number of data structures that it supports; one of those being a <em>dictionary</em>.</p>
<p>Dictionaries are unordered. What is useful about a dictionary is that you can refer to
values in a dictionary by their keys, or names. The above documentation blob is one large
dictionary containing a number of other datatypes.</p>
<p>Most documentation variables have a common set of keys and only differ in the values of
those keys.</p>
<p>Commonly-used keys are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">module</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">short_description</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">description</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">version_added</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">options</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">notes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">requirements</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">author</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extends_documentation_fragment</span></code></p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">extends_documentation_fragment</span></code> key is special because it automatically injects the
variables <code class="docutils literal notranslate"><span class="pre">user</span></code>, <code class="docutils literal notranslate"><span class="pre">password</span></code>, <code class="docutils literal notranslate"><span class="pre">server</span></code>, <code class="docutils literal notranslate"><span class="pre">server_port</span></code>, and <code class="docutils literal notranslate"><span class="pre">validate_certs</span></code>
into your documentation. You should use it for all modules.</p>
</div>
<div class="section" id="documentation-header">
<h2>Documentation header<a class="headerlink" href="#documentation-header" title="Permalink to this headline">¶</a></h2>
<p>Starting at the top of the DOCUMENTATION section:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">module</span><span class="p">:</span> <span class="n">bigip_policy_rule</span>
<span class="n">short_description</span><span class="p">:</span> <span class="n">Manage</span> <span class="n">LTM</span> <span class="n">policy</span> <span class="n">rules</span> <span class="n">on</span> <span class="n">a</span> <span class="n">BIG</span><span class="o">-</span><span class="n">IP</span>
<span class="n">description</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">This</span> <span class="n">module</span> <span class="n">will</span> <span class="n">manage</span> <span class="n">LTM</span> <span class="n">policy</span> <span class="n">rules</span> <span class="n">on</span> <span class="n">a</span> <span class="n">BIG</span><span class="o">-</span><span class="n">IP</span><span class="o">.</span>
<span class="n">version_added</span><span class="p">:</span> <span class="mf">2.5</span>
</pre></div>
</div>
<p>This set of documentation tells you:</p>
<ul class="simple">
<li><p>The name of the module.</p></li>
<li><p>A title for the module, which will be shown in Ansible’s documentation.</p></li>
<li><p>An area for a more full description of what the module is used for, including
its capabilities and limitations.</p></li>
<li><p>The version of Ansible that the module was added to.</p></li>
</ul>
<p>If you were developing your own module (and not re-creating an existing one) you would
change these fragments to reflect your situation.</p>
</div>
<div class="section" id="a-note-on-raw-string-literals">
<h2>A note on raw string literals<a class="headerlink" href="#a-note-on-raw-string-literals" title="Permalink to this headline">¶</a></h2>
<p>Take special note of how the string content of this variable is <em>started</em>. There is
an <code class="docutils literal notranslate"><span class="pre">r</span></code> character before the string. What is that?</p>
<p>When an <code class="docutils literal notranslate"><span class="pre">r</span></code> character prefixes a string, Python considers that string a “raw” string
literal.</p>
<p>Alex Martelli has a <a class="reference external" href="https://stackoverflow.com/a/2081708">great explanation of this on Stack Overflow</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="s2">&quot;raw string literal&quot;</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">slightly</span> <span class="n">different</span> <span class="n">syntax</span> <span class="k">for</span> <span class="n">a</span> <span class="n">string</span> <span class="n">literal</span><span class="p">,</span> <span class="ow">in</span> <span class="n">which</span> <span class="n">a</span>
<span class="n">backslash</span><span class="p">,</span> \<span class="p">,</span> <span class="ow">is</span> <span class="n">taken</span> <span class="k">as</span> <span class="n">meaning</span> <span class="s2">&quot;just a backslash&quot;</span> <span class="p">(</span><span class="k">except</span> <span class="n">when</span> <span class="n">it</span> <span class="n">comes</span> <span class="n">right</span> <span class="n">before</span>
<span class="n">a</span> <span class="n">quote</span> <span class="n">that</span> <span class="n">would</span> <span class="n">otherwise</span> <span class="n">terminate</span> <span class="n">the</span> <span class="n">literal</span><span class="p">)</span> <span class="o">--</span> <span class="n">no</span> <span class="s2">&quot;escape sequences&quot;</span> <span class="n">to</span> <span class="n">represent</span>
<span class="n">newlines</span><span class="p">,</span> <span class="n">tabs</span><span class="p">,</span> <span class="n">backspaces</span><span class="p">,</span> <span class="n">form</span><span class="o">-</span><span class="n">feeds</span><span class="p">,</span> <span class="ow">and</span> <span class="n">so</span> <span class="n">on</span><span class="o">.</span> <span class="n">In</span> <span class="n">normal</span> <span class="n">string</span> <span class="n">literals</span><span class="p">,</span> <span class="n">each</span>
<span class="n">backslash</span> <span class="n">must</span> <span class="n">be</span> <span class="n">doubled</span> <span class="n">up</span> <span class="n">to</span> <span class="n">avoid</span> <span class="n">being</span> <span class="n">taken</span> <span class="k">as</span> <span class="n">the</span> <span class="n">start</span> <span class="n">of</span> <span class="n">an</span> <span class="n">escape</span> <span class="n">sequence</span><span class="o">.</span>
</pre></div>
</div>
<p>What this means is that nowhere in the string do you need to do things like escape
characters.</p>
<p>Consider the string <code class="docutils literal notranslate"><span class="pre">C:\Users\John</span> <span class="pre">Smith\Documents\test.txt</span></code></p>
<p>This variable contains documentation, so you would want to present that full string to
a user when they are reading the documentation.</p>
<p>Python, however, will interpret the <code class="docutils literal notranslate"><span class="pre">\</span></code> characters as an escape sequence and will attempt to escape them for you when
rendering the documentation. The above example would <code class="docutils literal notranslate"><span class="pre">print()</span></code> in Python as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">John</span> <span class="n">Smith</span>\<span class="n">Documents</span>   <span class="n">est</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Which is definitely not what a user expects. By attaching the <code class="docutils literal notranslate"><span class="pre">r</span></code> character though, the
documentation renders like this instead.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">John</span> <span class="n">Smith</span>\<span class="n">Documents</span>\<span class="n">test</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>This is much more likely what you want the documentation to look like. So always use <code class="docutils literal notranslate"><span class="pre">r</span></code>
strings for the documentation related variables at the top of a module. These include:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EXAMPLES</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RETURN</span></code></p></li>
</ul>
<p>If you do, you will never need to worry about escape sequences.</p>
</div>
<div class="section" id="specifying-options-parameters">
<h2>Specifying options (parameters)<a class="headerlink" href="#specifying-options-parameters" title="Permalink to this headline">¶</a></h2>
<p>Next, there are a series of options:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">options</span><span class="p">:</span>
  <span class="n">description</span><span class="p">:</span>
    <span class="n">description</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">Description</span> <span class="n">of</span> <span class="n">the</span> <span class="n">policy</span> <span class="n">rule</span><span class="o">.</span>
  <span class="n">actions</span><span class="p">:</span>
    <span class="n">description</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">The</span> <span class="n">actions</span> <span class="n">that</span> <span class="n">you</span> <span class="n">want</span> <span class="n">the</span> <span class="n">policy</span> <span class="n">rule</span> <span class="n">to</span> <span class="n">perform</span><span class="o">.</span>
      <span class="o">-</span> <span class="n">The</span> <span class="n">available</span> <span class="n">attributes</span> <span class="n">vary</span> <span class="n">by</span> <span class="n">the</span> <span class="n">action</span><span class="p">,</span> <span class="n">however</span><span class="p">,</span> <span class="n">each</span> <span class="n">action</span> <span class="n">requires</span> <span class="n">that</span>
        <span class="n">a</span> <span class="n">C</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="n">be</span> <span class="n">specified</span><span class="o">.</span>
      <span class="o">-</span> <span class="n">These</span> <span class="n">conditions</span> <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span> <span class="ow">in</span> <span class="nb">any</span> <span class="n">order</span><span class="o">.</span> <span class="n">Despite</span> <span class="n">them</span> <span class="n">being</span> <span class="n">a</span> <span class="nb">list</span><span class="p">,</span> <span class="n">the</span>
        <span class="n">BIG</span><span class="o">-</span><span class="n">IP</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">treat</span> <span class="n">their</span> <span class="n">order</span> <span class="k">as</span> <span class="n">anything</span> <span class="n">special</span><span class="o">.</span>
      <span class="o">-</span> <span class="n">Available</span> <span class="n">C</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="n">values</span> <span class="n">are</span> <span class="n">C</span><span class="p">(</span><span class="n">forward</span><span class="p">)</span><span class="o">.</span>
    <span class="n">suboptions</span><span class="p">:</span>
      <span class="nb">type</span><span class="p">:</span>
        <span class="n">description</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">The</span> <span class="n">action</span> <span class="nb">type</span><span class="o">.</span> <span class="n">This</span> <span class="n">value</span> <span class="n">controls</span> <span class="n">what</span> <span class="n">below</span> <span class="n">options</span> <span class="n">are</span> <span class="n">required</span><span class="o">.</span>
          <span class="o">-</span> <span class="n">When</span> <span class="n">C</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">C</span><span class="p">(</span><span class="n">forward</span><span class="p">),</span> <span class="n">will</span> <span class="n">associate</span> <span class="n">a</span> <span class="n">given</span> <span class="n">C</span><span class="p">(</span><span class="n">pool</span><span class="p">)</span> <span class="k">with</span> <span class="n">this</span> <span class="n">rule</span><span class="o">.</span>
          <span class="o">-</span> <span class="n">When</span> <span class="n">C</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">C</span><span class="p">(</span><span class="n">enable</span><span class="p">),</span> <span class="n">will</span> <span class="n">associate</span> <span class="n">a</span> <span class="n">given</span> <span class="n">C</span><span class="p">(</span><span class="n">asm_policy</span><span class="p">)</span> <span class="k">with</span>
            <span class="n">this</span> <span class="n">rule</span><span class="o">.</span>
          <span class="o">-</span> <span class="n">When</span> <span class="n">C</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="ow">is</span> <span class="n">C</span><span class="p">(</span><span class="n">ignore</span><span class="p">),</span> <span class="n">will</span> <span class="n">remove</span> <span class="nb">all</span> <span class="n">existing</span> <span class="n">actions</span> <span class="kn">from</span> <span class="nn">this</span>
            <span class="n">rule</span><span class="o">.</span>
        <span class="n">required</span><span class="p">:</span> <span class="kc">True</span>
        <span class="n">choices</span><span class="p">:</span> <span class="p">[</span> <span class="s1">&#39;forward&#39;</span><span class="p">,</span> <span class="s1">&#39;enable&#39;</span><span class="p">,</span> <span class="s1">&#39;ignore&#39;</span> <span class="p">]</span>
      <span class="n">pool</span><span class="p">:</span>
        <span class="n">description</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">Pool</span> <span class="n">that</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">forward</span> <span class="n">traffic</span> <span class="n">to</span><span class="o">.</span>
          <span class="o">-</span> <span class="n">This</span> <span class="n">parameter</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">valid</span> <span class="k">with</span> <span class="n">the</span> <span class="n">C</span><span class="p">(</span><span class="n">forward</span><span class="p">)</span> <span class="nb">type</span><span class="o">.</span>
      <span class="n">asm_policy</span><span class="p">:</span>
        <span class="n">description</span><span class="p">:</span>
          <span class="o">-</span> <span class="n">ASM</span> <span class="n">policy</span> <span class="n">to</span> <span class="n">enable</span><span class="o">.</span>
          <span class="o">-</span> <span class="n">This</span> <span class="n">parameter</span> <span class="ow">is</span> <span class="n">only</span> <span class="n">valid</span> <span class="k">with</span> <span class="n">the</span> <span class="n">C</span><span class="p">(</span><span class="n">enable</span><span class="p">)</span> <span class="nb">type</span><span class="o">.</span>
  <span class="n">policy</span><span class="p">:</span>
    <span class="n">description</span><span class="p">:</span>
      <span class="o">-</span> <span class="n">The</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">policy</span> <span class="n">that</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">associate</span> <span class="n">this</span> <span class="n">rule</span> <span class="k">with</span><span class="o">.</span>
    <span class="n">required</span><span class="p">:</span> <span class="kc">True</span>
</pre></div>
</div>
<p>A few points:</p>
<p>First, the top-level key for this block is called <code class="docutils literal notranslate"><span class="pre">options</span></code>. Yours should be the same.
This is how Ansible knows to report this section of documentation in the module’s parameters
table.</p>
<p>The first parameter listed above is the <code class="docutils literal notranslate"><span class="pre">description</span></code> parameter. It has a <code class="docutils literal notranslate"><span class="pre">description</span></code> field that describes what the purpose of the <code class="docutils literal notranslate"><span class="pre">description</span></code> parameter is.</p>
<p>The next parameter is called <code class="docutils literal notranslate"><span class="pre">actions</span></code>. Like the previous parameter, this one also
has a <code class="docutils literal notranslate"><span class="pre">description</span></code> field that describes what its purpose in the module is. In fact, it
has many descriptions.</p>
<p>This is actually a recommended way of writing documentation bits about your parameter.
You may have many thoughts about what a parameter does. Instead of putting them into one
long line, it is recommended that you define them as a list (indicated by the leading hyphen).</p>
<p>This parameter has another field; <code class="docutils literal notranslate"><span class="pre">suboptions</span></code>. This field acts in the same
way as the top-level <code class="docutils literal notranslate"><span class="pre">options</span></code> field does. It allows you to define a series of fields that
can be specified to the parameter. This is a great way to spell out what is <em>exactly</em> required
by the parameter. It is also a great way to enforce compliance with input. Were these not here,
the user may expect that they need to provide a free-form string of data when providing
the <code class="docutils literal notranslate"><span class="pre">actions</span></code>. Such as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>actions: Are these actions that I put here?
</pre></div>
</div>
<p>Instead, the <code class="docutils literal notranslate"><span class="pre">suboptions</span></code> tell the user that the module will <code class="docutils literal notranslate"><span class="pre">require</span></code> the field
<code class="docutils literal notranslate"><span class="pre">type</span></code>, and can optionally accept a <code class="docutils literal notranslate"><span class="pre">pool</span></code> field and <code class="docutils literal notranslate"><span class="pre">asm_policy</span></code> field. Each of those
fields has their own documentation. The end result is that the user will know
that their <code class="docutils literal notranslate"><span class="pre">action</span></code> will resemble the following when used in a playbook.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># one possible option</span>
<span class="n">actions</span><span class="p">:</span>
  <span class="o">-</span> <span class="nb">type</span><span class="p">:</span> <span class="n">enable</span>
    <span class="n">asm_policy</span><span class="p">:</span> <span class="n">foo</span><span class="o">-</span><span class="n">policy</span>

<span class="c1"># another possible option</span>
<span class="n">actions</span><span class="p">:</span>
  <span class="o">-</span> <span class="nb">type</span><span class="p">:</span> <span class="n">pool</span>
    <span class="n">pool</span><span class="p">:</span> <span class="n">my</span><span class="o">-</span><span class="n">pool</span>

<span class="c1"># another possible option</span>
<span class="n">actions</span><span class="p">:</span>
  <span class="o">-</span> <span class="nb">type</span><span class="p">:</span> <span class="n">ignore</span>
</pre></div>
</div>
<p>Now, you have not yet <em>codified</em> that enforcement, but you <em>have</em> made known to the user
your plan to do so. This is a great approach.</p>
<p>The final parameter in the snippet above is the <code class="docutils literal notranslate"><span class="pre">policy</span></code> parameter. Note that it is similar
to the first parameter (<code class="docutils literal notranslate"><span class="pre">description</span></code>) but it includes another field: <code class="docutils literal notranslate"><span class="pre">required</span></code>.</p>
<p>Ansible does not require you to specify <code class="docutils literal notranslate"><span class="pre">False</span></code> or <code class="docutils literal notranslate"><span class="pre">default:</span> <span class="pre">None</span></code> in either your
documentation or <code class="docutils literal notranslate"><span class="pre">ArgumentSpec</span></code>. It does, however, require that
you specify truthiness. Therefore, because this parameter will be required by the module,
we specify in the documentation that it is indeed required.</p>
</div>
<div class="section" id="if-you-leave-anything-out">
<h2>If you leave anything out<a class="headerlink" href="#if-you-leave-anything-out" title="Permalink to this headline">¶</a></h2>
<p>Note that Ansible upstream has several rules for their documentation blocks.
At the time of this writing, some of the rules are:</p>
<ul class="simple">
<li><p>If a parameter is <em>not</em> required, <strong>do not</strong> include a <code class="docutils literal notranslate"><span class="pre">required:</span> <span class="pre">false</span></code> field in the
parameter’s <code class="docutils literal notranslate"><span class="pre">DOCUMENTATION</span></code> section.</p></li>
<li><p>A period (.) must be placed at the end of all sentences.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">short_description</span></code> field <strong>does not</strong> end with a period.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">version_added</span></code> field <strong>must</strong> match the current <code class="docutils literal notranslate"><span class="pre">devel</span></code> version of Ansible
if the module is a new module.</p></li>
<li><p>If you are adding new parameters to an <em>existing</em> module, then those parameters must
have a <code class="docutils literal notranslate"><span class="pre">version_added</span></code> field that matches the current <code class="docutils literal notranslate"><span class="pre">devel</span></code> version of Ansible.</p></li>
</ul>
<p>There are a number of other rules that Ansible enforces. All of them will be checked for
when you attempt to upstream a new module.</p>
</div>
<div class="section" id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h2>
<p>This puts in place the first important part of the module. It gets you thinking about what
you want in the module, as well as what is even possible. Since a module will be flagged
as incorrect if any of this information is wrong or missing, it is also a great way to
ensure that <em>all modules have user-facing documentation</em>.</p>
<p>Click the <strong>Next</strong> button to continue to the next variable.</p>
</div>
</div>


    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../../_static/js/bootstrap.min.js"></script>
  <script src="../../../_static/js/clouddocs.js"></script>
  </body>
</html>