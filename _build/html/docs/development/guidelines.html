<!DOCTYPE html>
<div id="clouddocs-header">
  <div class="container-fluid">
    <div class="row corp-header">
      <div class="container corp-header">
        <div class="container corp-menu">
          <ul>
            <li><a href="https://f5.com" class="internalLink">F5.com</a></li>
            <li><a href="https://github.com/F5Networks" class="externalLink">GitHub</a></li>
            <li><a href="https://devcentral.f5.com" class="internalLink">Devcentral</a></li>
            <li><a href="https://support.f5.com" class="internalLink">Support</a></li>
          </ul>
        </div>
      </div>
    </div>

    <script async="async"
      src="https://consent.trustarc.com/notice?domain=f5.com&amp;c=teconsent&amp;text=true&amp;gtm=1" crossorigin=""
      id="truste_0.12182038258598205"></script>

    <div class="row pageHeader">
      <div class="container stat">
        <div class="col-xs-12 stat">
          <a class="internalLink" href="https://f5.com">
            <img class="logo" src="https://cdn.f5.com/websites/support/assets/images/logo.svg" width="50" height="44"
              alt="F5 Networks" title="F5 Networks" border="0">
          </a>
          <ul id="MainMenu" class="main-menu">
            <li data-submenu-id="products">
              <a data-link-type="nav: main" href="#" class="currentURL">Products
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="products-submenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h">BIG-IP Extensibility</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-extension/latest" data-link-type="Nav: Mega">F5
                            Application Services Extension 3</a></li>
                        <li><a href="https://clouddocs.f5.com/products/agc/latest" data-link-type="Nav: Mega">BIG-IP APM Access Guided
                            Configuration</a></li>
                        <li><a href="https://clouddocs.f5.com/products/iapp/iapp-lx/latest" data-link-type="Nav: Mega">iApps LX/iControl LX</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-declarative-onboarding/latest"
                            data-link-type="Nav: Mega">F5 Declarative Onboarding</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-telemetry-streaming/latest" data-link-type="Nav: Mega">F5
                            Telemetry Streaming</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-cloud-failover/latest" data-link-type="Nav: Mega">F5 Cloud
                            Failover</a></li>
                        <li><a href="https://clouddocs.f5.com/products/extensions/f5-appsvcs-templates/latest/" data-link-type="Nav: Mega">F5
                            Application Services Templates</a></li>
                      </ul>
                    </li>


                    <li class="divider"></li>
                    <li><span class="a-mm-h">Container Ingress Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/" data-link-type="Nav: Mega">F5 BIG-IP Controller for
                            Kubernetes/OpenShift</a></li>
                      </ul>
                      <span class="a-mm-h">Network Function Virtualization</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/nfv/latest" data-link-type="Nav: Mega">F5 VNF Manager</a></li>
                      </ul>
                      <span class="a-mm-h">SDK</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-cli" target="_blank">F5 CLI</a></li>
                        <li><a href="https://clouddocs.f5.com/sdk/f5-sdk-python" target="_blank">F5 SDK Python</a></li>
                      </ul>
                    </li>



                    <li class="divider"></li>
                    <li>
                      <span class="a-mm-h">OpenStack</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/openstack/agent/latest" data-link-type="Nav: Mega">F5 Agent - OpenStack
                            Neutron</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/lbaasv2-driver/latest" data-link-type="Nav: Mega">F5 Driver -
                            OpenStack LBaaS</a></li>
                        <li><a href="https://clouddocs.f5.com/products/openstack/heat-plugins/latest" data-link-type="Nav: Mega">F5 Plugins -
                            OpenStack Heat</a></li>
                      </ul>

                      <span class="a-mm-h">Ecosystems Integrations</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/f5-aci-servicecenter/latest" data-link-type="Nav: Mega">F5 ACI ServiceCenter</a>
                        </li>
                      </ul>


                    </li>
                    <li class="divider"></li>
                    <li><span class="a-mm-h">Orchestration</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/ansible/devel" target="_blank">F5 Modules for Ansible</a>
                        </li>
                        <li><a href="https://github.com/F5Networks/f5-aws-cloudformation" target="_blank"
                            class="externalLink">F5 Templates for AWS CloudFormation</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-azure-arm-templates" target="_blank"
                            class="externalLink">F5 Templates for Azure ARM</a> (GitHub)</li>
                        <li><a href="https://github.com/F5Networks/f5-google-gdm-templates" target="_blank"
                            class="externalLink">F5 Templates for Google Cloud Deployment Manager</a> (GitHub)</li>
                        <li><a href="https://clouddocs.f5.com/products/templates/openstack-heat/latest" data-link-type="Nav: Mega">F5 Templates
                            for OpenStack Heat</a></li>
                        <li><a href="https://clouddocs.f5.com/products/orchestration/terraform/latest/" data-link-type="Nav: Mega">F5 Resources
                            for Terraform Provider</a></li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>

            <!--- NEW -->
            <li>
              <a href="#" class="currentURL">APIs
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="APISubmenu">
                <div class="container">
                  <ul class="submenu">
                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/products/big-iq/mgmt-api/latest/" data-link-type="Nav: Mega">F5 BIG-IQ API</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/api/iapps/">F5 BIG-IP iApps</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules">F5 BIG-IP iRules API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/irules-lx">F5 BIG-IP iRulesLX API</a></li>
                      </ul>
                    </li>

                    <li class="divider"></li>

                    <li>
                      <span class="a-mm-h"></span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-rest">F5 BIG-IP iControlREST API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/icontrol-soap/">F5 BIG-IP iControl API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/ihealth/">F5 iHealth API</a></li>
                        <li><a href="https://clouddocs.f5.com/api/tmsh">F5 tmsh scripting API</a></li>
                      </ul>
                    </li>

                  </ul>
                </div>
              </div>
            </li>




            <li>
              <a href="#" class="currentURL">Cloud &amp; Container
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>

              <div class="menu-panel soft-hide" id="ContainersSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third"><span class="a-mm-h">Cloud Services</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GS-About.html"
                            data-link-type="Nav: Mega">Get Started</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Beacon-About.html"
                            data-link-type="Nav: Mega">Beacon</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-DNS-About.html"
                            data-link-type="Nav: Mega">DNS Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-GSLB-About.html"
                            data-link-type="Nav: Mega">DNS Load Balancer Cloud Service</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud-services/latest/f5-cloud-services-Essential.App.Protect-About.html"
                            data-link-type="Nav: Mega">Essential App Protect Service</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Clouds</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/aws_index.html" data-link-type="Nav: Mega">AWS</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/azure_index.html" data-link-type="Nav: Mega">Azure</a></li>
                        <li><a href="https://clouddocs.f5.com/cloud/public/v1/google_index.html" data-link-type="Nav: Mega">Google Cloud</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/cloud/openstack/" data-link-type="Nav: Mega">OpenStack</a></li>
                      </ul>
                      <!-- unnecessary right now>
                    <span class="seemore"><a data-link-type="Nav: Mega" href="/cloud/">See all </a></span>
                    <-->
                    </li>
                    <li class="divider"></li>
                    <li class="third"><span class="a-mm-h">Containers</span>
                      <ul>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/kubernetes/" data-link-type="Nav: Mega">Kubernetes</a>
                        </li>
                        <li><a href="https://clouddocs.f5.com/containers/latest/userguide/openshift/" data-link-type="Nav: Mega">OpenShift</a>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
            <li>
              <a href="#" class="currentURL">Resources
                <span class="indicator"><span class="arrow-up"></span></span>
              </a>
              <div class="menu-panel soft-hide" id="UPCProgramSubmenu">
                <div class="container">
                  <ul class="submenu col-sm-11">
                    <li class="third">
                      <span class="a-mm-h">Downloads</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://hub.docker.com/r/f5networks/"
                            class="internalLink externalLink">Docker Hub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega"
                            href="https://store.docker.com/images/f5networks-asp"
                            class="internalLink externalLink">Docker Store</a></li>
                      </ul>
                      <span class="a-mm-h">OpenSource</span>
                      <ul>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5Networks"
                            class="internalLink externalLink">F5Networks on GitHub</a></li>
                        <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5DevCentral"
                            class="internalLink externalLink">F5DevCentral on GitHub</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>
                    <li class="third">
                      <span class="a-mm-h">Training &amp; Labs</span>
                      <ul>
                        <li>
                          <p>Learn how to get the most out of the F5 platform</p>
                        </li>
                        <li><a href="https://clouddocs.f5.com/training/community">Community</a></li>
                      </ul>
                    </li>
                    <li class="divider"></li>

                    <li class="third">
                      <a href="//university.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega">F5 University</a>
                      <ul>
                        <li>
                          <p>Get up to speed with free self-paced courses</p>
                        </li>
                      </ul>
                      <a data-ng-href="https://devcentral.f5.com" class="a-mm-h internalLink" target="_blank"
                        data-link-type="Nav: Mega" href="https://devcentral.f5.com">DevCentral</a>
                      <ul>
                        <li>
                          <p>Join the community of 250,000+ technical peers</p>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </div>
            </li>
          </ul>
        </div>

        <div class="col-xs-12 stat">
          <div class="topLinks">
            <span class="glyphicon glyphicon-search upc-search" id="search-toggle" style="display: none;"></span>
          </div>
        </div>
      </div>
    </div>
  </div> <!-- /container-fluid -->
</div>
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Guidelines &#8212; F5 Digital Customer Engagement Center 0.1 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/21fb8a09c3.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="How to get involved" href="getting-involved.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <nav class="nav-sidebartoc">

        
        <h5>F5 Digital Customer Engagement Center 0.1 </h5>
        
<div id="searchbox" role="search">
  <form class="search" action="../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Guidelines</a><ul>
<li><a class="reference internal" href="#which-api-to-use">Which API to use</a></li>
<li><a class="reference internal" href="#module-naming-convention">Module naming convention</a></li>
<li><a class="reference internal" href="#adding-new-apis">Adding new APIs</a></li>
<li><a class="reference internal" href="#using-the-f5-sdk">Using the f5-sdk</a><ul>
<li><a class="reference internal" href="#importing">Importing</a></li>
<li><a class="reference internal" href="#connecting-to-big-ip">Connecting to BIG-IP</a></li>
<li><a class="reference internal" href="#exception-handling">Exception handling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#python-compatibility">Python compatibility</a></li>
<li><a class="reference internal" href="#automated-testing">Automated testing</a></li>
</ul>
</li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/getting_started.html">Getting started</a></li>
</ul>
<p class="caption"><span class="caption-text">Solutions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../solutions/delivery/delivery_index.html">Application Delivery controller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../solutions/security/security_index.html">Security</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer's Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-involved.html">How to get involved</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Guidelines</a></li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">CloudDocs Home</a> &gt; <a href="../../index.html">F5 Digital Customer Engagement Center </a> &gt; Guidelines</li>
          </ul>
      </nav>
      

    
  <div class="section" id="guidelines">
<h1>Guidelines<a class="headerlink" href="#guidelines" title="Permalink to this headline">¶</a></h1>
<p>Follow these guidelines when developing F5 modules for Ansible.</p>
<div class="section" id="which-api-to-use">
<h2>Which API to use<a class="headerlink" href="#which-api-to-use" title="Permalink to this headline">¶</a></h2>
<p>In Ansible 2.2 and later, all new F5 modules must use the <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code>.</p>
<p>Prior to 2.2, modules used <code class="docutils literal notranslate"><span class="pre">bigsuds</span></code> (SOAP) or <code class="docutils literal notranslate"><span class="pre">requests</span></code> (REST).</p>
<p>To maintain backward compatibility of older modules, you can continue to extend modules that use <code class="docutils literal notranslate"><span class="pre">bigsuds</span></code>. <code class="docutils literal notranslate"><span class="pre">bigsuds</span></code> and <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code> can co-exist, but F5 recommends that you write all new features, and fix all bugs by using <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code>.</p>
</div>
<div class="section" id="module-naming-convention">
<h2>Module naming convention<a class="headerlink" href="#module-naming-convention" title="Permalink to this headline">¶</a></h2>
<p>Base the name of the module on the part of BIG-IP that the module manipulates. A good rule of thumb is to refer to the API the <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code> uses.</p>
<p>Don’t further abbreviate names. If something is a well-known abbreviation because it is a major component of BIG-IP, you can use it, but don’t create new ones independently (e.g., LTM, GTM, ASM, etc. are fine).</p>
</div>
<div class="section" id="adding-new-apis">
<h2>Adding new APIs<a class="headerlink" href="#adding-new-apis" title="Permalink to this headline">¶</a></h2>
<p>If a module you need does not exist yet, the REST API in the <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code> may not exist yet.</p>
<p>Refer to the following GitHub project to determine if the REST API exists:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/F5Networks/f5-common-python">https://github.com/F5Networks/f5-common-python</a></p></li>
</ul>
<p>If you want F5 to write an API, open an issue with this project.</p>
</div>
<div class="section" id="using-the-f5-sdk">
<h2>Using the f5-sdk<a class="headerlink" href="#using-the-f5-sdk" title="Permalink to this headline">¶</a></h2>
<p>Follow these guidelines for using the <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code> in the modules you develop. Here are the most common scenarios that you will encounter.</p>
<div class="section" id="importing">
<h3>Importing<a class="headerlink" href="#importing" title="Permalink to this headline">¶</a></h3>
<p>Wrap <code class="docutils literal notranslate"><span class="pre">import</span></code> statements in a try block and fail the module later if the import fails.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">f5.bigip</span> <span class="kn">import</span> <span class="n">ManagementRoot</span>
    <span class="kn">from</span> <span class="nn">f5.bigip.contexts</span> <span class="kn">import</span> <span class="n">TransactionContextManager</span>
    <span class="n">HAS_F5SDK</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="n">HAS_F5SDK</span> <span class="o">=</span> <span class="kc">False</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>

   <span class="k">if</span> <span class="ow">not</span> <span class="n">HAS_F5SDK</span><span class="p">:</span>
      <span class="n">module</span><span class="o">.</span><span class="n">fail_json</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s1">&#39;f5-sdk required for this module&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You might wonder why you are doing this.</p>
<p>The answer is that Ansible runs automated tests specifically against your module, and they use an environment that doesn’t include your module’s dependencies.</p>
<p>Therefore, without the appropriate exception handlers, your PR will fail to pass when Ansible runs these upstream tests.</p>
<p>Example tests include, but are not limited to:</p>
<ul class="simple">
<li><p>ansible-test sanity –test import –python 2.6</p></li>
<li><p>ansible-test sanity –test import –python 2.7</p></li>
<li><p>ansible-test sanity –test import –python 3.5</p></li>
<li><p>ansible-test sanity –test import –python 3.6</p></li>
</ul>
</div>
<div class="section" id="connecting-to-big-ip">
<h3>Connecting to BIG-IP<a class="headerlink" href="#connecting-to-big-ip" title="Permalink to this headline">¶</a></h3>
<p>Connecting to an F5 product is automatic. You can control which product you are communicating with by changing the appropriate value in your <cite>ArgumentSpec</cite> class.</p>
<p>For example, to specify that your module is one that communicates with a BIG-IP, here is the minimum viable <cite>ArgumentSpec</cite>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ArgumentSpec</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">argument_spec</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f5_product_name</span> <span class="o">=</span> <span class="s1">&#39;bigip&#39;</span>
</pre></div>
</div>
<p>Note the special key <cite>f5_product_name</cite>. By changing this value, you are able to change the <cite>ManagementRoot</cite> that your module uses.</p>
<p>The following is a list of allowed values for this key:</p>
<ul class="simple">
<li><p>bigip</p></li>
<li><p>bigiq</p></li>
<li><p>iworkflow</p></li>
</ul>
<p>Inside your module, the <cite>ManagementRoot</cite> is in the <cite>ModuleManager</cite> under the <cite>self.client.api</cite> object.</p>
<p>Use the object in the same way that you normally use the <cite>ManagementRoot</cite> of an <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code> product.</p>
<p>For example, this code snippet illustrates a “normal” method of using the <code class="docutils literal notranslate"><span class="pre">f5-sdk</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mr</span> <span class="o">=</span> <span class="n">ManagementRoot</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="s1">&#39;10443&#39;</span><span class="p">)</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">ltm</span><span class="o">.</span><span class="n">virtuals</span><span class="o">.</span><span class="n">virtual</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;asdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The equivalent Ansible module code is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Assumes you provided &quot;bigip&quot; in your ArgumentSpec</span>
<span class="n">vs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">client</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">ltm</span><span class="o">.</span><span class="n">virtuals</span><span class="o">.</span><span class="n">virtual</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;asdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="exception-handling">
<h3>Exception handling<a class="headerlink" href="#exception-handling" title="Permalink to this headline">¶</a></h3>
<p>If the code throws an exception, it is up to you to decide how to handle it.</p>
<p>For raising exceptions, use the exception class, <cite>F5ModuleError</cite>, provided with the <cite>f5-sdk</cite>, exclusively.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Module code</span>
<span class="o">...</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">want</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">tm</span><span class="o">.</span><span class="n">ltm</span><span class="o">.</span><span class="n">pools</span><span class="o">.</span><span class="n">pool</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="n">foo</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="n">iControlUnexpectedHTTPError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
    <span class="k">raise</span> <span class="n">F5ModuleError</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">ex</span><span class="p">))</span>

<span class="o">...</span>
<span class="c1"># End of module code</span>
</pre></div>
</div>
<p>In all cases in which you encounter it, it is correct to catch internal exceptions and re-raise them (if necessary) with the <cite>F5ModuleError</cite> class.</p>
</div>
</div>
<div class="section" id="python-compatibility">
<h2>Python compatibility<a class="headerlink" href="#python-compatibility" title="Permalink to this headline">¶</a></h2>
<p>The Python code underlying the Ansible modules should be compatible with both Python 2.7 and 3.</p>
<p>The Travis configuration contained in this repo will verify that your modules are compatible with both versions. Use the following cheat-sheet to write compatible code.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://python-future.org/compatible_idioms.html">http://python-future.org/compatible_idioms.html</a></p></li>
</ul>
</div>
<div class="section" id="automated-testing">
<h2>Automated testing<a class="headerlink" href="#automated-testing" title="Permalink to this headline">¶</a></h2>
<p>F5 recommends that you use the testing facilities paired with this repository. When you open PR’s, F5’s testing tools will run the PR against supported BIG-IP versions.</p>
<p>Because F5 has test harnesses, you do not need your own devices or VE instances to test (although if you do that’s fine).</p>
<p>F5 currently has the following devices in the test harness:</p>
<ul class="simple">
<li><p>12.0.0 (BIGIP-12.0.0.0.0.606)</p></li>
<li><p>12.1.0 (BIGIP-12.1.0.0.0.1434)</p></li>
<li><p>12.1.0-hf1 (BIGIP-12.1.0.1.0.1447-HF1)</p></li>
<li><p>12.1.0-hf2 (BIGIP-12.1.0.2.0.1468-HF2)</p></li>
<li><p>12.1.1 (BIGIP-12.1.1.0.0.184)</p></li>
<li><p>12.1.1-hf1 (BIGIP-12.1.1.1.0.196-HF1)</p></li>
<li><p>12.1.1-hf2 (BIGIP-12.1.1.2.0.204-HF2)</p></li>
<li><p>12.1.2 (BIGIP-12.1.2.0.0.249)</p></li>
<li><p>12.1.2-hf1 (BIGIP-12.1.2.1.0.264-HF1)</p></li>
<li><p>13.0.0 (BIGIP-13.0.0.0.0.1645)</p></li>
<li><p>13.0.0-hf1 (BIGIP-13.0.0.1.0.1668-HF1)</p></li>
</ul>
</div>
</div>


    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../_static/js/bootstrap.min.js"></script>
  <script src="../../_static/js/clouddocs.js"></script>
  </body>
</html>